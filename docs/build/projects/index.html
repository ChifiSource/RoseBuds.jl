<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>creating projects · toolips</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="toolips logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">toolips</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><span class="tocitem">essentials</span><ul><li><a class="tocitem" href="../">toolips?</a></li><li class="is-active"><a class="tocitem" href>creating projects</a><ul class="internal"><li><a class="tocitem" href="#directory-structure"><span>directory structure</span></a></li><li><a class="tocitem" href="#environments"><span>environments</span></a></li><li><a class="tocitem" href="#starting-projects"><span>starting projects</span></a></li><li><a class="tocitem" href="#project-source"><span>project source</span></a></li><li><a class="tocitem" href="#project-directories"><span>project directories</span></a></li></ul></li><li><a class="tocitem" href="../routing/">routing</a></li><li><a class="tocitem" href="../connections/">connections</a></li><li><a class="tocitem" href="../core/">servers</a></li><li><a class="tocitem" href="../cli/">command-line interface</a></li><li><a class="tocitem" href="../requests/">requests</a></li><li><a class="tocitem" href="../composing_websites/">composing websites</a></li><li><a class="tocitem" href="../deploying_projects/">deploying projects</a></li></ul></li><li><span class="tocitem">servables</span><ul><li><a class="tocitem" href="../servables/components/">components</a></li><li><a class="tocitem" href="../servables/styles/">styles</a></li><li><a class="tocitem" href="../servables/animations/">animations</a></li><li><a class="tocitem" href="../servables/creating_servables/">creating servables</a></li></ul></li><li><span class="tocitem">server extensions</span><ul><li><a class="tocitem" href="../extensions/toolips_extensions/">default extensions</a></li><li><a class="tocitem" href="../extensions/toolips_session/">toolips session</a></li><li><a class="tocitem" href="../extensions/toolips_defaults/">toolips defaults</a></li><li><a class="tocitem" href="../extensions/toolips_markdown/">toolips markdown</a></li><li><a class="tocitem" href="../extensions/toolips_memwrite/">toolips memwrite</a></li><li><a class="tocitem" href="../extensions/toolips_base64/">toolips base64</a></li><li><a class="tocitem" href="../extensions/toolips_remote/">toolips remote</a></li><li><a class="tocitem" href="../extensions/toolips_uploader/">toolips uploader</a></li><li><a class="tocitem" href="../extensions/toolips_canvas/">toolips canvas</a></li><li><a class="tocitem" href="../extensions/toolips_auth/">toolips auth</a></li><li><a class="tocitem" href="../extensions/creating_extensions/">creating extensions</a></li></ul></li><li><span class="tocitem">examples</span><ul><li><a class="tocitem" href="../examples/simple_website/">simple website</a></li><li><a class="tocitem" href="../examples/blog/">blog</a></li><li><a class="tocitem" href="../examples/text_editor/">text editor</a></li><li><a class="tocitem" href="../examples/sound_share/">sound sharing platform</a></li><li><a class="tocitem" href="../examples/file_explorer/">file explorer</a></li><li><a class="tocitem" href="../examples/interactive_dash/">interactive dashboard</a></li></ul></li><li><a class="tocitem" href="../developer_api/">developer API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">essentials</a></li><li class="is-active"><a href>creating projects</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>creating projects</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ChifiSource/Toolips.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins&family=Roboto+Mono:wght@100&family=Rubik:wght@500&display=swap" rel="stylesheet">

<style>
body {background-color: #FDF8FF !important;}
header {background-color: #FDF8FF !important}
h1 {
  font-family: 'Poppins', sans-serif !important;
  font-family: 'Roboto Mono', monospace !important;
  font-family: 'Rubik', sans-serif !important;}

  h2 {
    font-family: 'Poppins', sans-serif !important;
    font-family: 'Roboto Mono', monospace !important;
    font-family: 'Rubik', sans-serif !important;}
    h4 { color: #03045e !important;
      font-family: 'Poppins', sans-serif !important;
      font-family: 'Roboto Mono', monospace !important;
      font-family: 'Rubik', sans-serif !important;}
article {
  border-radius: 30px !important;
  border-color: lightblue !important;
}
pre {
  border-radius: 10px !important;
  border-color: #FFE5B4 !important;
}
p {font-family: 'Poppins', sans-serif;
font-family: 'Roboto Mono', monospace;
font-family: 'Rubik', sans-serif; color: #565656;}
</style><h1 id="projects"><a class="docs-heading-anchor" href="#projects">projects</a><a id="projects-1"></a><a class="docs-heading-anchor-permalink" href="#projects" title="Permalink"></a></h1><p>Toolips projects are normal Julia modules. The projects can often be added with Pkg, and do not require any extra bootstrap in order to be started. Toolips projects can be setup either using the <code>new_app</code> or the <code>new_webapp</code> method. If you really want to, you can also avoid these two entirely and create a project from scratch. <code>new_webapp</code> will create a new full-stack toolips app.  <code>new_app</code> creates a minimalist application, ideal for simple APIs.</p><ul><li><code>new_webapp</code> generates the directory <code>public</code></li><li><code>new_webapp</code> loads the <a href="../extensions/toolips_extensions/index.html#Files">Files</a></li><li><code>new_webapp</code> adds <a href="../extensions/toolips_session/index.html">ToolipsSession</a></li><li><code>new_webapp</code> adds <a href="../extensions/toolips_defaults/index.html">ToolipsDefaults</a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Toolips.new_app" href="#Toolips.new_app"><code>Toolips.new_app</code></a> — <span class="docstring-category">Function</span></header><section><div><p><strong>Core</strong></p><p><strong>new_app(::String) -&gt; _</strong></p><hr/><p>Creates a minimalistic app, usually used for creating APIs and endpoints.</p><p><strong>example</strong></p><pre><code class="nohighlight hljs">using Toolips
Toolips.new_app(&quot;ToolipsApp&quot;)</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Toolips.new_webapp" href="#Toolips.new_webapp"><code>Toolips.new_webapp</code></a> — <span class="docstring-category">Function</span></header><section><div><p><strong>Core</strong></p><p><strong>new_webapp(::String) -&gt; _</strong></p><hr/><p>Creates a fully-featured Toolips web-app. Adds ToolipsSession, ideal for full-stack web-sites.</p><p><strong>example</strong></p><pre><code class="nohighlight hljs">using Toolips
Toolips.new_webapp(&quot;ToolipsApp&quot;)</code></pre></div></section></article><p>These two methods both take one positional argument, and that is the name of your project. These project names should follow the Julia convention for Modules, which is capitalizing the first letter of each word in the name.</p><pre><code class="language-julia hljs">using Toolips
# Don&#39;t do this...
Toolips.new_webapp(&quot;myapp&quot;)
# Do this!
Toolips.new_webapp(&quot;MyApp&quot;)</code></pre><h2 id="directory-structure"><a class="docs-heading-anchor" href="#directory-structure">directory structure</a><a id="directory-structure-1"></a><a class="docs-heading-anchor-permalink" href="#directory-structure" title="Permalink"></a></h2><p>Once a project has been created, the directory structure should look like that of a typical Julia project. Let&#39;s go ahead and generate a project in order to take a look.</p><pre><code class="language-julia hljs">using Toolips

Toolips.new_webapp(&quot;MyWebApp&quot;)
Toolips.new_app(&quot;MyApp&quot;)</code></pre><p>We will start by taking a look at <code>MyApp</code>. I will use another module, <a href="https://github.com/NHDaly/PrintFileTree.jl">PrintFileTree</a> to take a look at the files within this new directory.</p><pre><code class="language-julia hljs">using PrintFileTree

cd(&quot;MyApp&quot;)
PrintFileTree.printfiletree(&quot;.&quot;)</code></pre><pre><code class="language-bash hljs">.
├── Manifest.toml
├── Project.toml
├── dev.jl
├── logs
│   └── log.txt
├── prod.jl
└── src
    └── MyApp.jl

2 directories, 6 files</code></pre><p>The <code>Project.toml</code> and <code>Manifest.toml</code> files are both typical of Julian <code>Pkg</code> projects. These two files hold all of the dependency information for your project. <code>dev.jl</code> and <code>prod.jl</code> define environmental variables for both a production and development environment respectively.</p><h2 id="environments"><a class="docs-heading-anchor" href="#environments">environments</a><a id="environments-1"></a><a class="docs-heading-anchor-permalink" href="#environments" title="Permalink"></a></h2><p>We can access our environment by either using <code>Pkg.activate(&quot;.&quot;)</code> or by activating from the Pkg REPL. The REPL can be entered from the Julia REPL by pressing <code>]</code>. Once activated, we can add new dependencies with <code>add</code>, and remove dependencies with <code>rm</code>.</p><pre><code class="language-julia hljs">using Pkg

Pkg.activate(&quot;.&quot;)
Pkg.add(&quot;ToolipsSession&quot;)</code></pre><p>Our environment files, <code>dev.jl</code> and <code>prod.jl</code>, contain the information that our server needs to be started. This includes extensions, our IP, our port, and a few dependencies. Do <strong>NOT</strong> put secrets into here! Never hardcode your secrets, these should be defined inside of Bash somewhere and brought into Julia in some other way.</p><pre><code class="language-julia hljs">#==
dev.jl is an environment file. This file loads and starts servers, and
defines environmental variables, setting the scope a lexical step higher
with modularity.
==#
using Pkg; Pkg.activate(&quot;.&quot;)
using Toolips
using Revise
using MyApp

IP = &quot;127.0.0.1&quot;
PORT = 8000
extensions = [Logger()]
MyAppServer = MyApp.start(IP, PORT, extensions)</code></pre><p>The <code>dev.jl</code> file only differs from the <code>prod.jl</code> file in one way by default, and that is <a href="https://timholy.github.io/Revise.jl/stable/">Revise</a>. Revise.jl is an awesome project by <a href="https://github.com/timholy">timholy</a> that allows us to modify modules while they are loaded into <code>Main</code>. This is useful because it allows us to develop websites with <strong>zero downtime</strong> by rerouting to new code via the command-line-interface. The file completes by calling <code>MyApp.start</code>, a function that creates a <a href=".">ServerTemplate</a> for us and starts it to return a <a href=".">WebServer</a>.</p><h2 id="starting-projects"><a class="docs-heading-anchor" href="#starting-projects">starting projects</a><a id="starting-projects-1"></a><a class="docs-heading-anchor-permalink" href="#starting-projects" title="Permalink"></a></h2><p>In order to start our project, we have three options.</p><ul><li><strong>1:</strong> We can include <code>dev.jl</code> with the <code>include</code> method.</li><li><strong>2:</strong> We can run <code>julia -L</code> on <code>dev.jl</code> from Bash/CMD.</li><li><strong>3:</strong> We can import our module with <code>using</code> and run the <code>MyApp.start</code> method manually.</li></ul><h5 id=":-including-dev.jl"><a class="docs-heading-anchor" href="#:-including-dev.jl">1: including dev.jl</a><a id=":-including-dev.jl-1"></a><a class="docs-heading-anchor-permalink" href="#:-including-dev.jl" title="Permalink"></a></h5><p>Including <code>dev.jl</code> is probably the most straight-forward approach to starting a toolips server.</p><pre><code class="language-julia hljs">include(&quot;dev.jl&quot;)
 Activating project at `~/dev/toolips/examples/MyApp`
[ Info: Precompiling MyApp [6e1095f5-2a16-48a3-8439-38092e9c2ced]
[2022:07:02:02:17]: 🌷 toolips&gt; Toolips Server starting on port 8000
[2022:07:02:02:17]: 🌷 toolips&gt; Successfully started server on port 8000
[2022:07:02:02:17]: 🌷 toolips&gt; You may visit it now at http://127.0.0.1:8000</code></pre><h5 id=":-julia-L-dev.jl"><a class="docs-heading-anchor" href="#:-julia-L-dev.jl">2: julia -L dev.jl</a><a id=":-julia-L-dev.jl-1"></a><a class="docs-heading-anchor-permalink" href="#:-julia-L-dev.jl" title="Permalink"></a></h5><p>Using <code>julia -L</code> is ideal if you want to deploy the project into production, as this is a command that can be used by a supervisor to start your server. However, it is not going to break anything to use this all the time, it makes no difference.</p><pre><code class="language-julia hljs">[emmac ems-computer MyApp]$ julia -L dev.jl
  Activating project at `~/dev/toolips/examples/MyApp`
[2022:07:02:02:19]: 🌷 toolips&gt; Toolips Server starting on port 8000
[2022:07:02:02:19]: 🌷 toolips&gt; Successfully started server on port 8000
[2022:07:02:02:19]: 🌷 toolips&gt; You may visit it now at http://127.0.0.1:8000</code></pre><h5 id=":-calling-start"><a class="docs-heading-anchor" href="#:-calling-start">3: calling start</a><a id=":-calling-start-1"></a><a class="docs-heading-anchor-permalink" href="#:-calling-start" title="Permalink"></a></h5><p>Calling <code>start</code> is ideal if you either intend for an end-user to import your toolips project as a module, or you are calling the project from an entirely different project above it.</p><pre><code class="language-julia hljs">include(&quot;src/MyApp.jl&quot;)
using Main.MyApp
using Toolips
MyApp.start(&quot;127.0.0.1&quot;, 8000, [Logger()])
[2022:07:02:02:22]: 🌷 toolips&gt; Toolips Server starting on port 8000
[2022:07:02:02:22]: 🌷 toolips&gt; Successfully started server on port 8000
[2022:07:02:02:22]: 🌷 toolips&gt; You may visit it now at http://127.0.0.1:8000</code></pre><h2 id="project-source"><a class="docs-heading-anchor" href="#project-source">project source</a><a id="project-source-1"></a><a class="docs-heading-anchor-permalink" href="#project-source" title="Permalink"></a></h2><p>The project source files are contained within the <code>src</code> directory. The default project file looks like this:</p><pre><code class="language-julia hljs">module MyApp
using Toolips


&quot;&quot;&quot;
home(c::Connection) -&gt; _
--------------------
The home function is served as a route inside of your server by default. To
    change this, view the start method below.
&quot;&quot;&quot;
function home(c::Connection)
    write!(c, p(&quot;helloworld&quot;, text = &quot;hello world!&quot;))
end

fourofour = route(&quot;404&quot;) do c
    write!(c, p(&quot;404message&quot;, text = &quot;404, not found!&quot;))
end

&quot;&quot;&quot;
start(IP::String, PORT::Integer, extensions::Vector{Any}) -&gt; ::Toolips.WebServer
--------------------
The start function comprises routes into a Vector{Route} and then constructs
    a ServerTemplate before starting and returning the WebServer.
&quot;&quot;&quot;
function start(IP::String = &quot;127.0.0.1&quot;, PORT::Integer = 8000,
    extensions::Vector = [Logger()])
    rs = routes(route(&quot;/&quot;, home), fourofour)
    server = ServerTemplate(IP, PORT, rs, extensions = extensions)
    server.start()
end

end # - module</code></pre><p>In this file, we are shown the two different techniques which can be used to create a <code>Route</code>. The first of these is the example of <code>home</code>, where a function is written, and later passed into the <code>route</code> method. This method takes a string and a function, in either position, and can also be called with the <code>do</code> syntax such as in the example of <code>fourofour</code>. The <code>start</code> method is the final piece of the puzzle, which takes an IP, port, and Vector{ServerExtension}. The first line of the function calls the <a href=".">routes</a> method to comprise our two routes into a <code>Vector{Route}</code>. The second line constructs a <a href=".">ServerTemplate</a> using our IP, port, routes, and server-extensions as the key-word argument <code>extensions</code>. Finally, server.start() is called, returning a <a href=".">WebServer</a></p><h2 id="project-directories"><a class="docs-heading-anchor" href="#project-directories">project directories</a><a id="project-directories-1"></a><a class="docs-heading-anchor-permalink" href="#project-directories" title="Permalink"></a></h2><p>Along with our new app, the <code>logs</code> directory was created. As you might expect, this directory contains a log of server output. The log output is provided by the <a href="../extensions/toolips_extensions/index.html#Logger">Logger</a> extension. One difference that our <code>MyWebApp</code> project contains is the <code>public</code> directory, which is used by the <a href="../extensions/toolips_extensions/index.html#Files">Files</a> extension.</p><pre><code class="language-julia hljs">cd(&quot;MyWebApp&quot;)
using PrintFileTree

PrintFileTree.printfiletree(&quot;.&quot;)
.
├── Manifest.toml
├── Project.toml
├── dev.jl
├── logs
│   └── log.txt
├── prod.jl
├── public
└── src
    └── MyWebApp.jl
</code></pre><p>All of the files inside of this directory will be served into the server at the route corresponding with their directory, where <code>/</code> is <code>public</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« toolips?</a><a class="docs-footer-nextpage" href="../routing/">routing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Saturday 2 July 2022 20:16">Saturday 2 July 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
